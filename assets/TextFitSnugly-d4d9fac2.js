import{n as f,w as z,N as O,s as y,O as R,S as W,i as q,J as E,e as F,a as M,K as N,L as T,M as U,g as k,h as C,d as B,P as D,Q as G,x as J}from"./SlideBox-7d3d9678.js";const u=[];function p(t,n){return{subscribe:K(t,n).subscribe}}function K(t,n=f){let e;const s=new Set;function o(a){if(y(t,a)&&(t=a,e)){const r=!u.length;for(const l of s)l[1](),u.push(l,t);if(r){for(let l=0;l<u.length;l+=2)u[l][0](u[l+1]);u.length=0}}}function i(a){o(a(t))}function c(a,r=f){const l=[a,r];return s.add(l),s.size===1&&(e=n(o)||f),a(t),()=>{s.delete(l),s.size===0&&e&&(e(),e=null)}}return{set:o,update:i,subscribe:c}}function b(t,n,e){const s=!Array.isArray(t),o=s?[t]:t,i=n.length<2;return p(e,c=>{let a=!1;const r=[];let l=0,g=f;const h=()=>{if(l)return;g();const d=n(s?r[0]:r,c);i?c(d):g=R(d)?d:f},x=o.map((d,_)=>z(d,I=>{r[_]=I,l&=~(1<<_),a&&h()},()=>{l|=1<<_}));return a=!0,h(),function(){O(x),g(),a=!1}})}const w=window.nodecg,L=p([],t=>{w.Replicant("commentatorArray","speedcontrol-additions").on("change",n=>{t(n)})}),V=t=>b(L,n=>n.filter(e=>e.assignedRunIdArray.includes(t))),P=p([],t=>{w.Replicant("speedcontrolUserAdditionArray","speedcontrol-additions").on("change",n=>{t(n)})}),A=window.nodecg,S=p([],t=>{A.Replicant("runDataArray","nodecg-speedcontrol").on("change",n=>{t(n)})}),m=p(void 0,t=>{A.Replicant("runDataActiveRun","nodecg-speedcontrol").on("change",n=>{t(n)})}),Y=b([S,m],([t,n])=>{if(!n)return;const e=t.findIndex(s=>s.id===n.id);return t[e+1]}),Z=b([S,m],([t,n])=>{if(!n)return[];const e=t.findIndex(s=>s.id===n.id);return t.slice(e,e+3)}),v=t=>b([m,P],([n,e])=>{var i,c;let s=((i=e.find(a=>a.id===t))==null?void 0:i.social)??{};console.log(s);const o=(c=n==null?void 0:n.teams.flatMap(a=>a.players).find(a=>a.id===t))==null?void 0:c.social.twitch;return o&&(s.twitch=o),console.log(s),s});function Q(t){let n,e;const s=t[3].default,o=E(s,t,t[2],null);return{c(){n=F("span"),o&&o.c()},m(i,c){M(i,n,c),o&&o.m(n,null),t[4](n),e=!0},p(i,[c]){o&&o.p&&(!e||c&4)&&N(o,s,i,i[2],e?U(s,i[2],c,null):T(i[2]),null)},i(i){e||(k(o,i),e=!0)},o(i){C(o,i),e=!1},d(i){i&&B(n),o&&o.d(i),t[4](null)}}}function X(t,n){if(!t)return;const e=parseFloat(t.style.fontSize.replace("em","")),s=t.getBoundingClientRect().width;if(s/e>n)return;const o=n/s;t.style.fontSize=o>1?"":`${o}em`}function j(t,n,e){let{$$slots:s={},$$scope:o}=n,{maxWidth:i=Number.MAX_SAFE_INTEGER}=n,c;D(async()=>{await G(),X(c,i)});function a(r){J[r?"unshift":"push"](()=>{c=r,e(0,c)})}return t.$$set=r=>{"maxWidth"in r&&e(1,i=r.maxWidth),"$$scope"in r&&e(2,o=r.$$scope)},[c,i,o,s,a]}class $ extends W{constructor(n){super(),q(this,n,j,Q,y,{maxWidth:1})}}export{$ as T,m as a,p as b,V as c,b as d,Y as n,Z as r,v as s};
